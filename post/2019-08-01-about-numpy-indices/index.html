<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>About numpy.indices | My Notes</title><meta name=keywords content="python"><meta name=description content="About numpy.indices"><meta name=author content="lkk7"><link rel=canonical href=https://www.lkk7.com/notes/post/2019-08-01-about-numpy-indices/><link crossorigin=anonymous href=/notes/assets/css/stylesheet.min.48a18943c2fc15c38a372b8dde1f5e5dc0bc64fa6cb90f5a817d2f8c76b7f3ae.css integrity="sha256-SKGJQ8L8FcOKNyuN3h9eXcC8ZPpsuQ9agX0vjHa3864=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/notes/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.lkk7.com/notes/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.lkk7.com/notes/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.lkk7.com/notes/favicon-32x32.png><link rel=apple-touch-icon href=https://www.lkk7.com/notes/apple-touch-icon.png><link rel=mask-icon href=https://www.lkk7.com/notes/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="About numpy.indices"><meta property="og:description" content="About numpy.indices"><meta property="og:type" content="article"><meta property="og:url" content="https://www.lkk7.com/notes/post/2019-08-01-about-numpy-indices/"><meta property="article:section" content="post"><meta property="article:published_time" content="2018-08-05T00:00:00+02:00"><meta property="article:modified_time" content="2018-08-05T00:00:00+02:00"><meta property="og:site_name" content="My Notes"><meta name=twitter:card content="summary"><meta name=twitter:title content="About numpy.indices"><meta name=twitter:description content="About numpy.indices"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.lkk7.com/notes/post/"},{"@type":"ListItem","position":3,"name":"About numpy.indices","item":"https://www.lkk7.com/notes/post/2019-08-01-about-numpy-indices/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"About numpy.indices","name":"About numpy.indices","description":"About numpy.indices","keywords":["python"],"articleBody":"numpy.indices was a function that I really couldn’t “get” for a long time. But with help of this Stack Overflow answer (I am the question asker) I have grasped it. Here I will present the idea with examples.\nThe complicated explanation We pass a dimensions argument made of n elements, for example (7) or (2, 3). numpy.indices(dimensions) will return an array (a numpy.ndarray) made of n subarrays, in which each subarray is dimensions-shaped and contains its indices varying only in the corresponding dimension.\nThe essential examples The explanation may seem complicated, but the examples will make it clearer.\n import numpy as np  result = np.indices([7])  len(result) 1  result[0] array([0, 1, 2, 3, 4, 5, 6]) This is the simplest case. We have passed [7] as the dimensions argument, which represents a 1D array with 7 elements.\nFor each dimension (so in this case just for one) the result gets a [7]-shaped subarray which is made of indices (0, 1, …) counted only in the corresponding dimension.\nIn the example there is only one dimension available, so the result only consists of one subarray with indices going along this dimension.\nThe next example is the most important one:\n result = np.indices([2, 3])  len(result) 2  result[0] array([[0, 0, 0],  [1, 1, 1]])  result[1] array([[0, 1, 2],  [0, 1, 2]]) Now, we have passed [2, 3] as the dimensions argument, which represents a 2D array with 2 rows and 3 columns.\nFor each dimension (we have two of them here) the result gets a [2, 3]-shaped subarray made of indices counted only in the corresponding dimension. So the first subarray has indices counted along the rows, while the second one counts along the column axis.\nThat’s it! We could go with higher dimensions, but for basic usage that’s unnecessary.\nUse cases numpy.indices is very useful when we want to define a matrix by its indices, which is common in maths/physics. For example: “A 3x5 matrix M where M_ij = 2*i + j” defines a matrix where each element is equal to its row index times two plus its column index.\n import numpy as np  i, j = np.indices([3, 5])  M = 2 * i + j  M array([[0, 1, 2, 3, 4],  [2, 3, 4, 5, 6],  [4, 5, 6, 7, 8]]) Another interesting thing is that those indices can be treated as coordinates in space.\nThat makes numpy.indices a simple choice for defining fields of values that depend on x, y (possibly z and more). In maths/physics we call those fields scalar. Unfortunately, the obvious limitation is that we can only deal with discrete coordinates.\n","wordCount":"445","inLanguage":"en","datePublished":"2018-08-05T00:00:00+02:00","dateModified":"2018-08-05T00:00:00+02:00","author":{"@type":"Person","name":"lkk7"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.lkk7.com/notes/post/2019-08-01-about-numpy-indices/"},"publisher":{"@type":"Organization","name":"My Notes","logo":{"@type":"ImageObject","url":"https://www.lkk7.com/notes/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.lkk7.com/notes accesskey=h title="My Notes (Alt + H)">My Notes</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://www.lkk7.com/notes/ title="Home (notes)"><span>Home (notes)</span></a></li><li><a href=https://www.lkk7.com/notes/archives title=Archives><span>Archives</span></a></li><li><a href=https://www.lkk7.com title="My Page"><span>My Page</span></a></li><li><a href=https://www.lkk7.com/notes/tags title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.lkk7.com/notes>Home</a>&nbsp;»&nbsp;<a href=https://www.lkk7.com/notes/post/>Posts</a></div><h1 class=post-title>About numpy.indices</h1><div class=post-description>About numpy.indices</div><div class=post-meta><span title="2018-08-05 00:00:00 +0200 +0200">August 5, 2018</span>&nbsp;·&nbsp;lkk7</div></header><div class=post-content><p><code>numpy.indices</code> was a function that I really couldn&rsquo;t &ldquo;get&rdquo; for a long time. But with help of <a href=http://stackoverflow.com/questions/32271331/can-anybody-explain-me-the-numpy-indices/32271420#32271420>this Stack Overflow answer</a> (I am the question asker) I have grasped it. Here I will present the idea with examples.</p><h3 id=the-complicated-explanation>The complicated explanation<a hidden class=anchor aria-hidden=true href=#the-complicated-explanation>#</a></h3><p>We pass a <code>dimensions</code> argument made of <code>n</code> elements, for example <code>(7)</code> or <code>(2, 3)</code>. <code>numpy.indices(dimensions)</code> will return an array (a <code>numpy.ndarray</code>) made of <code>n</code> subarrays, in which each subarray is <code>dimensions</code>-shaped and contains its indices varying only in the corresponding dimension.</p><h3 id=the-essential-examples>The essential examples<a hidden class=anchor aria-hidden=true href=#the-essential-examples>#</a></h3><p>The explanation may seem complicated, but the examples will make it clearer.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> result <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>indices([<span style=color:#ae81ff>7</span>])
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> len(result)
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> result[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>array([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>])
</span></span></code></pre></div><p>This is the simplest case. We have passed <code>[7]</code> as the <code>dimensions</code> argument, which represents a 1D array with 7 elements.<br>For each dimension (so in this case just for one) the <code>result</code> gets a <code>[7]</code>-shaped subarray which is made of indices (0, 1, &mldr;) counted only in the corresponding dimension.<br>In the example there is only one dimension available, so the result only consists of one subarray with indices going along this dimension.</p><p>The next example is the most important one:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> result <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>indices([<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>])
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> len(result)
</span></span><span style=display:flex><span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> result[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>array([[<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>       [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>]])
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> result[<span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>array([[<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>       [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]])
</span></span></code></pre></div><p>Now, we have passed <code>[2, 3]</code> as the <code>dimensions</code> argument, which represents a 2D array with 2 rows and 3 columns.<br>For each dimension (we have two of them here) the <code>result</code> gets a <code>[2, 3]</code>-shaped subarray made of indices counted only in the corresponding dimension. So the first subarray has indices counted along the rows, while the second one counts along the column axis.</p><p>That&rsquo;s it! We could go with higher dimensions, but for basic usage that&rsquo;s unnecessary.</p><h3 id=use-cases>Use cases<a hidden class=anchor aria-hidden=true href=#use-cases>#</a></h3><p><code>numpy.indices</code> is very useful when we want to define a matrix by its indices, which is common in maths/physics. For example: &ldquo;A 3x5 matrix <code>M</code> where <code>M_ij = 2*i + j</code>&rdquo; defines a matrix where each element is equal to its row index times two plus its column index.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> i, j <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>indices([<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>5</span>])
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> M <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> i <span style=color:#f92672>+</span> j
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> M
</span></span><span style=display:flex><span>array([[<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>],
</span></span><span style=display:flex><span>       [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>],
</span></span><span style=display:flex><span>       [<span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>]])
</span></span></code></pre></div><p>Another interesting thing is that those indices can be treated as coordinates in space.<br>That makes <code>numpy.indices</code> a simple choice for defining fields of values that depend on x, y (possibly z and more).
In maths/physics we call those fields scalar.
Unfortunately, the obvious limitation is that we can only deal with discrete coordinates.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.lkk7.com/notes/tags/python/>python</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://www.lkk7.com/notes>My Notes</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>